summary: Check that snap run supports passing arguments

prepare: |
    echo Ensure we have a os snap with snap run
    $SPREAD_PATH/tests/lib/reset.sh
    snap install --channel=beta ubuntu-core
    snap install hello-world
    snapbuild $TESTSLIB/snaps/test-snapd-tools .

execute: |
    echo "Running a snap command accepts arguments"
    test-snapd-tools.cat --number --show-tabs $SNAP/bin/cat |head -n1|grep -q "1.*"

    echo "Running a command via 'snap run' accepts arguments"
    snap run test-snapd-tools.cat --number --show-tabs $SNAP/bin/cat |head -n1|grep -q "1.*"
    
